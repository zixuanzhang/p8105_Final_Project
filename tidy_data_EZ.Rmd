---
title: "read data from Indeed"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(rvest)
library(httr)
library(stringr)
theme_set(theme_bw())
```

### objective

degree

major



### read data (existing)

```{r}
datascience <- read_csv("./data/datascience_market/alldata.csv") %>% 
  filter(!is.na(position))

dim(datascience)

head(datascience)

str(datascience)
```

### tidy datascience data

minimum requirement of degree

```{r}
pattern_Hi = "[Hh]igh [Ss]chool"
pattern_Ba = "[Bb]achelor | \\WB\\.?A\\W | \\WB\\.?S\\W | [Cc]ollege | [Dd]egree"
pattern_Ma = "[Mm]aster[^y] | [Aa]dvanced | \\WM\\.?[SA]\\W | [Gg]raduate"
pattern_Phd = "\\W[Pp][Hh]\\.?[Dd]\\W | \\WM\\.?D\\W"

datascience %>% 
  mutate(degree = ifelse(str_detect(.$description, pattern_Hi) == TRUE, "high school",
                      ifelse(str_detect(.$description, pattern_Ba) == TRUE, "bachelor",
                          ifelse(str_detect(.$description, pattern_Ma) == TRUE, "master",
                               ifelse(str_detect(.$description, pattern_Phd) == TRUE, "phd", "other"))))) %>% 
  mutate(degree = factor(degree, levels = c("high school", "bachelor", "master", "phd", "other"))) %>% 
  ggplot(aes(x = degree)) + geom_bar()
```

related background:

```{r}
major <- tibble(major_name = c("Computer Science", "Statistics", "Mathematics", "Quantitative", 
                               "Biology", "Economics", "Data Science", "Chemical Engineering",      "Biostatistics"))
                
datascience %>% 
  filter(str_detect(description, "[Mm]athematics") == TRUE)


datascience %>% 
  filter(str_detect(description, "[Cc]omputer [Ss]cience") == TRUE)

datascience %>% 
  filter(str_detect(description, "[Dd]ata [Ss]cience") == TRUE)

```

skill:

```{r}

```









